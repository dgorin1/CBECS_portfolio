# Top-coding caps (replace values >= key with cap_to)
target_variable:
  -MFBTU

top_codes:
  NELVTR:     { threshold: 995, cap_to: 30 }
  LTNR24:     { threshold: 995, cap_to: 30 }
  RWSEAT:     { threshold: 99995, cap_to: 2000 }
  PBSEAT:     { threshold: 99995, cap_to: 15000 }
  NELVTR:     { threshold: 995,   cap_to: 30 }
  NESLTR:     { threshold: 995,   cap_to: 10 }
  BASEMNT:    { threshold: 995,   cap_to: 5 }
  FLCEILHT:   { threshold: 995,   cap_to: 50 }
  HCBED:      { threshold: 9995,  cap_to: 250 }
  LODGRM:     { threshold: 99995, cap_to: 250 }
  NRSBED:     { threshold: 9995,  cap_to: 250 }
  SERVERN:    { threshold: 9995,  cap_to: 500 }
  XRAYN:      { threshold: 995,   cap_to: 20 }
  RFGRSN:     { threshold: 99995, cap_to: 1000 }
  RFGCOMPN:   { threshold: 99995, cap_to: 1000 }
  LGOFFDEVN:  { threshold: 9995,  cap_to: 500 }
  SMOFFDEVN:  { threshold: 9995,  cap_to: 500 }
  WBOARDSN:   { threshold: 9995,  cap_to: 500 }
  TVVIDEON:   { threshold: 995,   cap_to: 200 }



recode_rules:
  # -------- BULK RULES --------
  # NA -> 0 for many columns (your long list)
  - when: "NA"
    set_to: 0
    columns:
      - BASEMNT
      - NELVTR
      - DRYCL
      - RWSEAT
      - PBSEAT
      - EDSEAT
      - FDSEAT
      - OTCLP_NG
      - OTCLP_FK
      - CHILP_PR
      - OTCLP_PR
      - OTCLP_ST
      - SNACKSF
      - RFGOPN
      - RFGCLN
      - RFGVNN
      - RFGICN
      - PCTERMN
      - LAPTPN
      - MLTMON
      - TABLETN
      - SERVERN
      - LGOFFDEVN
      - SMOFFDEVN
      - WBOARDSN
      - TVVIDEON
      - RGSTRN
      - ATMN
      - LTZHRP
      - LTOHRP
      - LTNHRP
      - BULBP
      - HALOP
      - HIDP
      - LEDP
      - OTLTP
      - PKLTN
      - DAYLTP
      - DRVTHRU


  # NA -> 1 
  - when: "NA"
    set_to: 1
    columns:
    - RENCOS
    - RENADD
    - RENRDC
    - RENINT
    - RENRFF
    - RENWIN
    - RENHVC
    - RENLGT
    - RENPLB
    - RENELC
    - RENINS
    - RENSAF
    - RENSTR
    - RENOTH
    - RENOV

  # NA -> 2 
  - when: "NA"
    set_to: 2
    columns:
      - VACANT
  
  # 5 -> 2 
  - when: 5
    set_to: 2
    columns:
      - DRVTHRU

  # 994 -> 12 (A random middle-code??)
  - when: 994
    set_to: 12
    columns:
      - NFLOOR

# Columns to drop to avoid leakage or admin flags
drop_columns:
- MFEXP
- ELBTU
- ELCNS
- ELEXP
- NGBTU
- NGCNS
- NGEXP
- MFHTBTU
- MFCLBTU
- MFVNBTU
- MFWTBTU
- MFLTBTU
- MFCKBTU
- MFRFBTU
- MFOFBTU
- MFPCBTU
- MFOTBTU
- ELHTBTU
- ELCLBTU
- ELVNBTU
- ELWTBTU
- ELLTBTU
- ELCKBTU
- ELRFBTU
- ELOFBTU
- ELPCBTU
- ELOTBTU
- NGHTBTU
- NGCLBTU
- NGWTBTU
- NGCKBTU
- NGOTBTU
- FKBTU
- FKCNS
- FKEXP
- DHBTU
- DHHTBTU
- DHCLBTU
- DHWTBTU
- DHCKBTU
- DHOTBTU
- DHEXP
- FKOTBTU
- FKHTBTU
- FKCLBTU
- FKCKBTU
- WOEXP
- FKWTBTU
- SQFTC
- ELEVTR
- ESCLTR
- PUBID
- NOCCAT
- WKHRSC
- NWKERC
- LZHRPC
- LOHRPC
- LNHRPC
- PCTRMC
- OUTHOSPPCT
- YRCONC


impute_rules:
  # XXXX --> median
  NOCC:  { value: 996, fill_as: median }

regex_for_delete: "^FINALWT\\d*$"

missing_thresh: 1
